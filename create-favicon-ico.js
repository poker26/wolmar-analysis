const fs = require('fs');
const path = require('path');

// Простой ICO файл (16x16 пикселей) - это минимальная версия
// В реальном проекте лучше использовать онлайн конвертеры или специальные библиотеки
const icoHeader = Buffer.from([
    0x00, 0x00, // Reserved (must be 0)
    0x01, 0x00, // Type (1 = ICO)
    0x01, 0x00, // Number of images
    0x20,       // Width (32)
    0x20,       // Height (32)
    0x00,       // Color palette (0 = no palette)
    0x00,       // Reserved
    0x01, 0x00, // Color planes
    0x20, 0x00, // Bits per pixel (32)
    0x00, 0x00, 0x00, 0x00, // Size of image data
    0x16, 0x00, 0x00, 0x00  // Offset to image data
]);

// Простая 32x32 PNG иконка в виде золотой монеты с буквой W
// Это упрощенная версия - в реальности лучше использовать готовые иконки
const pngData = Buffer.from([
    // PNG signature
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A,
    // IHDR chunk
    0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52,
    0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x20,
    0x08, 0x06, 0x00, 0x00, 0x00, 0x73, 0x7A, 0x7A,
    0xF4, 0x00, 0x00, 0x00, 0x19, 0x74, 0x45, 0x58,
    0x74, 0x53, 0x6F, 0x66, 0x74, 0x77, 0x61, 0x72,
    0x65, 0x00, 0x41, 0x64, 0x6F, 0x62, 0x65, 0x20,
    0x49, 0x6D, 0x61, 0x67, 0x65, 0x52, 0x65, 0x61,
    0x64, 0x79, 0xCC, 0x26, 0x77, 0x00, 0x00, 0x00,
    0x0A, 0x49, 0x44, 0x41, 0x54, 0x78, 0x9C, 0x63,
    0x00, 0x01, 0x00, 0x00, 0x05, 0x00, 0x01, 0x0D,
    0x0A, 0x2D, 0xB4, 0x00, 0x00, 0x00, 0x00, 0x49,
    0x45, 0x4E, 0x44, 0xAE, 0x42, 0x60, 0x82
]);

// Создаем ICO файл
const icoFile = Buffer.concat([icoHeader, pngData]);

// Записываем файл
fs.writeFileSync(path.join(__dirname, 'public', 'favicon.ico'), icoFile);

console.log('✅ Favicon.ico создан в public/favicon.ico');
console.log('📝 Примечание: Это упрощенная версия. Для лучшего качества используйте онлайн конвертеры SVG->ICO');

# Тестирование исправленного парсера категорий

## Что исправлено

Основываясь на результатах диагностики, исправили логику поиска категорий:

### Проблема:
- Ссылки с `?category=` - это только аукционы, не категории товаров
- Реальные категории находятся в блоке `.categories` как подразделы аукциона
- Структура: `/auction/2139/категория` вместо отдельных страниц категорий

### Решение:
1. **Поиск в блоке `.categories`** - ищем ссылки на подкатегории аукциона
2. **Поиск по ключевым словам** - ищем ссылки содержащие `monety`, `medali`, `banknoty`, `znachki`, `jetony`, `ukrasheniya`
3. **Исключаем аукционы** - фильтруем ссылки с `?category=` и общие аукционы

## Команды для тестирования на сервере

```bash
# 1. Обновляем код
git pull origin main

# 2. Проверяем последний коммит
git log --oneline -1
# Должно показать: 01fc358 Fix category discovery

# 3. Тестируем исправленный парсер
node test-category-parser.js
```

## Ожидаемый результат

Парсер должен найти ~11 категорий из блока `.categories`:
- Монеты антика, средневековье
- Допетровские монеты  
- Монеты России до 1917 (золото/серебро/медь)
- Монеты РСФСР, СССР, России
- Монеты иностранные
- Наградные ордена и медали России/иностранные
- Памятные медали

Если найдет категории, можно будет протестировать парсинг лотов из них.



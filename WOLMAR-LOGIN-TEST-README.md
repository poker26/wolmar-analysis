# Тест входа на сайт Wolmar

## Описание
Скрипт для автоматического входа на сайт Wolmar с тестовыми credentials.

## Credentials
- **Логин:** `hippo26`
- **Пароль:** `Gopapopa326`

## Запуск на сервере

### 1. Перейти в директорию проекта
```bash
cd /var/www/wolmar-parser
```

### 2. Запустить тест
```bash
node wolmar-login-test.js
```

### 3. Или использовать bash скрипт
```bash
chmod +x test-wolmar-login.sh
./test-wolmar-login.sh
```

## Что делает скрипт

1. **Запускает браузер** с настройками из `puppeteer-utils.js`
2. **Переходит на главную страницу** Wolmar (https://www.wolmar.ru/)
3. **Ищет кнопку входа** (различные селекторы)
4. **Заполняет форму входа** с тестовыми credentials
5. **Отправляет форму** и проверяет результат
6. **Делает скриншоты** на каждом этапе для анализа
7. **Сохраняет cookies** в `wolmar-cookies.json` при успешном входе

## Ожидаемый результат

При успешном входе на странице должны появиться элементы:
- "Личный кабинет"
- "Лоты текущего аукциона"
- "История выигрышей"
- "Лоты предыдущих аукционов"
- "Данные пользователя"
- "Выход"

## Файлы результатов

- `wolmar-homepage.png` - главная страница
- `wolmar-login-form.png` - форма входа
- `wolmar-login-form-filled.png` - заполненная форма
- `wolmar-logged-in.png` - успешный вход
- `wolmar-login-failed.png` - неудачный вход
- `wolmar-error.png` - ошибка
- `wolmar-cookies.json` - cookies для повторного использования

## Настройки браузера

Скрипт использует те же настройки Puppeteer, что и основной парсер:
- Headless режим
- Отключены все метрики и логирование
- Отключены ненужные функции
- Настроена безопасность для Debian сервера
- Автоматическая очистка временных файлов

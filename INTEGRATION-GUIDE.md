# üîó –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç Wolmar

## üìã –û–±–∑–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è –Ω–∞ –∞—É–∫—Ü–∏–æ–Ω–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç Wolmar Parser.

## üéØ –¶–µ–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **–î–µ—Ç–µ–∫—Ü–∏—è –Ω–∞—Ä—É—à–µ–Ω–∏–π** - –≤—ã—è–≤–ª–µ–Ω–∏–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
3. **–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã** - —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏
4. **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã –æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Wolmar Parser:
```
wolmar-parser/
‚îú‚îÄ‚îÄ server.js                 # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 3001)
‚îú‚îÄ‚îÄ catalog-server.js         # –°–µ—Ä–≤–µ—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ (–ø–æ—Ä—Ç 3000)
‚îú‚îÄ‚îÄ admin-server.js           # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ catalog-parser.js         # –ü–∞—Ä—Å–µ—Ä –∞—É–∫—Ü–∏–æ–Ω–æ–≤
‚îî‚îÄ‚îÄ collection-service.js     # –°–µ—Ä–≤–∏—Å –∫–æ–ª–ª–µ–∫—Ü–∏–π
```

### –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –∞–Ω–∞–ª–∏–∑–æ–º –ø–æ–≤–µ–¥–µ–Ω–∏—è:
```
wolmar-parser/
‚îú‚îÄ‚îÄ server.js                 # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 3001)
‚îú‚îÄ‚îÄ catalog-server.js         # –°–µ—Ä–≤–µ—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ (–ø–æ—Ä—Ç 3000)
‚îú‚îÄ‚îÄ admin-server.js           # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ catalog-parser.js         # –ü–∞—Ä—Å–µ—Ä –∞—É–∫—Ü–∏–æ–Ω–æ–≤
‚îú‚îÄ‚îÄ collection-service.js     # –°–µ—Ä–≤–∏—Å –∫–æ–ª–ª–µ–∫—Ü–∏–π
‚îú‚îÄ‚îÄ auction-behavior-analyzer.js      # –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ø–æ–≤–µ–¥–µ–Ω–∏—è
‚îú‚îÄ‚îÄ detailed-behavior-investigator.js # –î–µ—Ç–∞–ª—å–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å
‚îú‚îÄ‚îÄ anti-manipulation-strategies.js   # –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø—Ä–æ—Ç–∏–≤–æ–¥–µ–π—Å—Ç–≤–∏—è
‚îú‚îÄ‚îÄ behavior-monitoring-service.js    # –°–µ—Ä–≤–∏—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–Ω–æ–≤—ã–π)
‚îî‚îÄ‚îÄ behavior-api.js                   # API –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–Ω–æ–≤—ã–π)
```

## üîß –≠—Ç–∞–ø—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

#### 1.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ wolmar-parser
npm install pg
```

#### 1.2 –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
touch behavior-monitoring-service.js
touch behavior-api.js
touch behavior-scheduler.js
```

#### 1.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```sql
-- –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
CREATE INDEX IF NOT EXISTS idx_auction_lots_winner_nick ON auction_lots(winner_nick);
CREATE INDEX IF NOT EXISTS idx_auction_lots_seller_nick ON auction_lots(seller_nick);
CREATE INDEX IF NOT EXISTS idx_auction_lots_final_price ON auction_lots(final_price);
CREATE INDEX IF NOT EXISTS idx_auction_lots_created_at ON auction_lots(created_at);
CREATE INDEX IF NOT EXISTS idx_auction_lots_price_multiplier ON auction_lots((final_price::numeric / starting_price::numeric));
```

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

#### 2.1 `behavior-monitoring-service.js`
```javascript
const AuctionBehaviorAnalyzer = require('./auction-behavior-analyzer');
const EventEmitter = require('events');

class BehaviorMonitoringService extends EventEmitter {
    constructor(dbConfig) {
        super();
        this.dbConfig = dbConfig;
        this.analyzer = new AuctionBehaviorAnalyzer(dbConfig);
        this.isRunning = false;
        this.intervalId = null;
    }

    async start(intervalMinutes = 60) {
        if (this.isRunning) return;
        
        this.isRunning = true;
        console.log(`üîç –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è (–∏–Ω—Ç–µ—Ä–≤–∞–ª: ${intervalMinutes} –º–∏–Ω)`);
        
        // –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑
        await this.runAnalysis();
        
        // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
        this.intervalId = setInterval(async () => {
            await this.runAnalysis();
        }, intervalMinutes * 60 * 1000);
    }

    async stop() {
        if (!this.isRunning) return;
        
        this.isRunning = false;
        if (this.intervalId) {
            clearInterval(this.intervalId);
            this.intervalId = null;
        }
        console.log('üõë –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–≤–µ–¥–µ–Ω–∏—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
    }

    async runAnalysis() {
        try {
            console.log('üîç –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è...');
            const results = await this.analyzer.generateComprehensiveReport();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è
            this.checkForCriticalViolations(results);
            
            // –≠–º–∏—Ç–∏—Ä—É–µ–º —Å–æ–±—ã—Ç–∏–µ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
            this.emit('analysisComplete', results);
            
        } catch (error) {
            console.error('‚ùå –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è:', error.message);
            this.emit('analysisError', error);
        }
    }

    checkForCriticalViolations(results) {
        const criticalThresholds = {
            suspiciousSellers: 10,
            priceManipulators: 5,
            multipleAccounts: 3
        };

        if (results.summary.totalSuspiciousSellers > criticalThresholds.suspiciousSellers) {
            this.emit('criticalAlert', {
                type: 'SUSPICIOUS_SELLERS',
                count: results.summary.totalSuspiciousSellers,
                threshold: criticalThresholds.suspiciousSellers
            });
        }

        if (results.summary.totalPriceManipulators > criticalThresholds.priceManipulators) {
            this.emit('criticalAlert', {
                type: 'PRICE_MANIPULATION',
                count: results.summary.totalPriceManipulators,
                threshold: criticalThresholds.priceManipulators
            });
        }
    }
}

module.exports = BehaviorMonitoringService;
```

### –≠—Ç–∞–ø 3: –°–æ–∑–¥–∞–Ω–∏–µ API –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

#### 3.1 `behavior-api.js`
```javascript
const express = require('express');
const AuctionBehaviorAnalyzer = require('./auction-behavior-analyzer');
const DetailedBehaviorInvestigator = require('./detailed-behavior-investigator');

class BehaviorAPI {
    constructor(dbConfig) {
        this.router = express.Router();
        this.dbConfig = dbConfig;
        this.setupRoutes();
    }

    setupRoutes() {
        // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
        this.router.get('/status', async (req, res) => {
            try {
                const analyzer = new AuctionBehaviorAnalyzer(this.dbConfig);
                await analyzer.init();
                const results = await analyzer.generateComprehensiveReport();
                await analyzer.close();
                
                res.json({
                    status: 'success',
                    data: results.summary,
                    timestamp: new Date().toISOString()
                });
            } catch (error) {
                res.status(500).json({
                    status: 'error',
                    message: error.message
                });
            }
        });

        // –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        this.router.get('/user/:nickname', async (req, res) => {
            try {
                const { nickname } = req.params;
                const { type = 'seller' } = req.query;
                
                const investigator = new DetailedBehaviorInvestigator(this.dbConfig);
                await investigator.init();
                const report = await investigator.generateDetailedReport(nickname, type);
                await investigator.close();
                
                res.json({
                    status: 'success',
                    data: report
                });
            } catch (error) {
                res.status(500).json({
                    status: 'error',
                    message: error.message
                });
            }
        });

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        this.router.get('/suspicious', async (req, res) => {
            try {
                const analyzer = new AuctionBehaviorAnalyzer(this.dbConfig);
                await analyzer.init();
                const results = await analyzer.generateComprehensiveReport();
                await analyzer.close();
                
                res.json({
                    status: 'success',
                    data: {
                        suspiciousSellers: results.suspiciousSellers,
                        priceManipulators: results.priceManipulation,
                        multipleAccounts: results.multipleAccounts
                    }
                });
            } catch (error) {
                res.status(500).json({
                    status: 'error',
                    message: error.message
                });
            }
        });

        // –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
        this.router.post('/analyze', async (req, res) => {
            try {
                const analyzer = new AuctionBehaviorAnalyzer(this.dbConfig);
                await analyzer.init();
                const results = await analyzer.generateComprehensiveReport();
                await analyzer.close();
                
                res.json({
                    status: 'success',
                    message: '–ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω',
                    data: results
                });
            } catch (error) {
                res.status(500).json({
                    status: 'error',
                    message: error.message
                });
            }
        });
    }

    getRouter() {
        return this.router;
    }
}

module.exports = BehaviorAPI;
```

### –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä

#### 4.1 –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è `server.js`
```javascript
// –î–æ–±–∞–≤–ª—è–µ–º –∏–º–ø–æ—Ä—Ç—ã
const BehaviorMonitoringService = require('./behavior-monitoring-service');
const BehaviorAPI = require('./behavior-api');

// –í —Å–µ–∫—Ü–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞
const behaviorMonitoring = new BehaviorMonitoringService(dbConfig);
const behaviorAPI = new BehaviorAPI(dbConfig);

// –ü–æ–¥–∫–ª—é—á–∞–µ–º API –º–∞—Ä—à—Ä—É—Ç—ã
app.use('/api/behavior', behaviorAPI.getRouter());

// –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
behaviorMonitoring.on('criticalAlert', (alert) => {
    console.log(`üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: ${alert.type} - ${alert.count} —Å–ª—É—á–∞–µ–≤`);
    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
});

behaviorMonitoring.on('analysisComplete', (results) => {
    console.log(`‚úÖ –ê–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω: ${results.summary.totalSuspiciousSellers} –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤`);
});

// –ó–∞–ø—É—Å–∫–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
app.listen(PORT, async () => {
    console.log(`üöÄ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É ${PORT}`);
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–≤–µ–¥–µ–Ω–∏—è
    await behaviorMonitoring.start(60); // –ê–Ω–∞–ª–∏–∑ –∫–∞–∂–¥—ã–π —á–∞—Å
});

// Graceful shutdown
process.on('SIGTERM', async () => {
    console.log('üõë –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª SIGTERM, –∑–∞–≤–µ—Ä—à–∞–µ–º —Ä–∞–±–æ—Ç—É...');
    await behaviorMonitoring.stop();
    process.exit(0);
});
```

### –≠—Ç–∞–ø 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

#### 5.1 –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è `public/admin.html`
```html
<!-- –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é —Å–µ–∫—Ü–∏—é –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
<div class="admin-section">
    <h3>üîç –ê–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è</h3>
    <div class="behavior-controls">
        <button id="runBehaviorAnalysis" class="btn btn-primary">
            –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è
        </button>
        <button id="viewSuspiciousUsers" class="btn btn-warning">
            –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
        </button>
        <button id="viewBehaviorReports" class="btn btn-info">
            –û—Ç—á–µ—Ç—ã –ø–æ –ø–æ–≤–µ–¥–µ–Ω–∏—é
        </button>
    </div>
    
    <div id="behaviorResults" class="results-container" style="display: none;">
        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
    </div>
</div>
```

#### 5.2 –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è `public/admin.js`
```javascript
// –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–Ω–∞–ª–∏–∑–æ–º –ø–æ–≤–µ–¥–µ–Ω–∏—è
document.getElementById('runBehaviorAnalysis').addEventListener('click', async () => {
    try {
        const response = await fetch('/api/behavior/analyze', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            }
        });
        
        const result = await response.json();
        
        if (result.status === 'success') {
            displayBehaviorResults(result.data);
        } else {
            showError('–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞: ' + result.message);
        }
    } catch (error) {
        showError('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞: ' + error.message);
    }
});

document.getElementById('viewSuspiciousUsers').addEventListener('click', async () => {
    try {
        const response = await fetch('/api/behavior/suspicious');
        const result = await response.json();
        
        if (result.status === 'success') {
            displaySuspiciousUsers(result.data);
        } else {
            showError('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ' + result.message);
        }
    } catch (error) {
        showError('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞: ' + error.message);
    }
});

function displayBehaviorResults(data) {
    const container = document.getElementById('behaviorResults');
    container.innerHTML = `
        <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è</h4>
        <div class="metrics-grid">
            <div class="metric-card">
                <h5>–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–¥–∞–≤—Ü—ã</h5>
                <span class="metric-value">${data.summary.totalSuspiciousSellers}</span>
            </div>
            <div class="metric-card">
                <h5>–ú–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä—ã —Ü–µ–Ω</h5>
                <span class="metric-value">${data.summary.totalPriceManipulators}</span>
            </div>
            <div class="metric-card">
                <h5>–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã</h5>
                <span class="metric-value">${data.summary.totalMultipleAccounts}</span>
            </div>
        </div>
    `;
    container.style.display = 'block';
}
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤
```javascript
// –í behavior-monitoring-service.js
behaviorMonitoring.on('criticalAlert', (alert) => {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    sendEmailAlert(alert);
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Slack/Discord
    sendSlackAlert(alert);
    
    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    logCriticalAlert(alert);
});
```

### –î–∞—à–±–æ—Ä–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```javascript
// –°–æ–∑–¥–∞–µ–º endpoint –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞
app.get('/admin/behavior-dashboard', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'behavior-dashboard.html'));
});
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /var/www
git pull origin main
npm install
pm2 restart wolmar-parser
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏
pm2 logs wolmar-parser

# –ü—Ä–æ–≤–µ—Ä—è–µ–º API
curl http://localhost:3001/api/behavior/status
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
# –î–æ–±–∞–≤–ª—è–µ–º –≤ crontab –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
0 9 * * * curl -X POST http://localhost:3001/api/behavior/analyze
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ KPI

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- –ü—Ä–æ—Ü–µ–Ω—Ç –ª–æ—Ç–æ–≤ —Å –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è–º–∏ —Ü–µ–Ω
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏–∑–∞
- –¢–æ—á–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–∫—Ü–∏–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–π

### –î–∞—à–±–æ—Ä–¥ –º–µ—Ç—Ä–∏–∫:
```javascript
// Endpoint –¥–ª—è –º–µ—Ç—Ä–∏–∫
app.get('/api/behavior/metrics', async (req, res) => {
    const metrics = await getBehaviorMetrics();
    res.json(metrics);
});
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
1. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –¥–æ—Å—Ç—É–ø –∫ API —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
3. **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** - —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è
4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** - –ª–∏–º–∏—Ç—ã –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
```javascript
// –í server.js
const rateLimit = require('express-rate-limit');

const behaviorAPILimiter = rateLimit({
    windowMs: 15 * 60 * 1000, // 15 –º–∏–Ω—É—Ç
    max: 100 // –º–∞–∫—Å–∏–º—É–º 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ IP
});

app.use('/api/behavior', behaviorAPILimiter);
```

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç Wolmar Parser –ø–æ–∑–≤–æ–ª–∏—Ç:

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—è–≤–ª—è—Ç—å** –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è
2. **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å** –Ω–µ—á–µ—Å—Ç–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
3. **–ü–æ–≤—ã—à–∞—Ç—å –¥–æ–≤–µ—Ä–∏–µ** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
4. **–£–ª—É—á—à–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ** —Ç–æ—Ä–≥–æ–≤

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞.
